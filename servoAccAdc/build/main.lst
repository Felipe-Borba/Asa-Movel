ARM GAS  C:\Users\Patrick\AppData\Local\Temp\ccbzRIa5.s 			page 1


   1              		.cpu cortex-m3
   2              		.eabi_attribute 20, 1
   3              		.eabi_attribute 21, 1
   4              		.eabi_attribute 23, 3
   5              		.eabi_attribute 24, 1
   6              		.eabi_attribute 25, 1
   7              		.eabi_attribute 26, 1
   8              		.eabi_attribute 30, 1
   9              		.eabi_attribute 34, 1
  10              		.eabi_attribute 18, 4
  11              		.file	"main.c"
  12              		.text
  13              	.Ltext0:
  14              		.cfi_sections	.debug_frame
  15              		.section	.text.SystemClock_Config,"ax",%progbits
  16              		.align	1
  17              		.global	SystemClock_Config
  18              		.syntax unified
  19              		.thumb
  20              		.thumb_func
  21              		.fpu softvfp
  23              	SystemClock_Config:
  24              	.LFB67:
  25              		.file 1 "Src/main.c"
   1:Src/main.c    **** /* USER CODE BEGIN Header */
   2:Src/main.c    **** /**
   3:Src/main.c    ****   ******************************************************************************
   4:Src/main.c    ****   * @file           : main.c
   5:Src/main.c    ****   * @brief          : Main program body
   6:Src/main.c    ****   ******************************************************************************
   7:Src/main.c    ****   * @attention
   8:Src/main.c    ****   *
   9:Src/main.c    ****   * <h2><center>&copy; Copyright (c) 2019 STMicroelectronics.
  10:Src/main.c    ****   * All rights reserved.</center></h2>
  11:Src/main.c    ****   *
  12:Src/main.c    ****   * This software component is licensed by ST under BSD 3-Clause license,
  13:Src/main.c    ****   * the "License"; You may not use this file except in compliance with the
  14:Src/main.c    ****   * License. You may obtain a copy of the License at:
  15:Src/main.c    ****   *                        opensource.org/licenses/BSD-3-Clause
  16:Src/main.c    ****   *
  17:Src/main.c    ****   ******************************************************************************
  18:Src/main.c    ****   */
  19:Src/main.c    **** /* USER CODE END Header */
  20:Src/main.c    **** 
  21:Src/main.c    **** /* Includes ------------------------------------------------------------------*/
  22:Src/main.c    **** #include "main.h"
  23:Src/main.c    **** #include "adc.h"
  24:Src/main.c    **** #include "dma.h"
  25:Src/main.c    **** #include "i2c.h"
  26:Src/main.c    **** #include "tim.h"
  27:Src/main.c    **** #include "usb.h"
  28:Src/main.c    **** #include "gpio.h"
  29:Src/main.c    **** 
  30:Src/main.c    **** /* Private includes ----------------------------------------------------------*/
  31:Src/main.c    **** /* USER CODE BEGIN Includes */
  32:Src/main.c    **** 
  33:Src/main.c    **** /* USER CODE END Includes */
ARM GAS  C:\Users\Patrick\AppData\Local\Temp\ccbzRIa5.s 			page 2


  34:Src/main.c    **** 
  35:Src/main.c    **** /* Private typedef -----------------------------------------------------------*/
  36:Src/main.c    **** /* USER CODE BEGIN PTD */
  37:Src/main.c    **** 
  38:Src/main.c    **** /* USER CODE END PTD */
  39:Src/main.c    **** 
  40:Src/main.c    **** /* Private define ------------------------------------------------------------*/
  41:Src/main.c    **** /* USER CODE BEGIN PD */
  42:Src/main.c    **** 
  43:Src/main.c    **** /* USER CODE END PD */
  44:Src/main.c    **** 
  45:Src/main.c    **** /* Private macro -------------------------------------------------------------*/
  46:Src/main.c    **** /* USER CODE BEGIN PM */
  47:Src/main.c    **** 
  48:Src/main.c    **** /* USER CODE END PM */
  49:Src/main.c    **** 
  50:Src/main.c    **** /* Private variables ---------------------------------------------------------*/
  51:Src/main.c    **** 
  52:Src/main.c    **** /* USER CODE BEGIN PV */
  53:Src/main.c    **** uint8_t rawMpu[6];
  54:Src/main.c    **** uint16_t rawAdc[2];
  55:Src/main.c    **** uint32_t servoPosition;
  56:Src/main.c    **** /* USER CODE END PV */
  57:Src/main.c    **** 
  58:Src/main.c    **** /* Private function prototypes -----------------------------------------------*/
  59:Src/main.c    **** void SystemClock_Config(void);
  60:Src/main.c    **** /* USER CODE BEGIN PFP */
  61:Src/main.c    **** 
  62:Src/main.c    **** /* USER CODE END PFP */
  63:Src/main.c    **** 
  64:Src/main.c    **** /* Private user code ---------------------------------------------------------*/
  65:Src/main.c    **** /* USER CODE BEGIN 0 */
  66:Src/main.c    **** 
  67:Src/main.c    **** /* USER CODE END 0 */
  68:Src/main.c    **** 
  69:Src/main.c    **** /**
  70:Src/main.c    ****   * @brief  The application entry point.
  71:Src/main.c    ****   * @retval int
  72:Src/main.c    ****   */
  73:Src/main.c    **** int main(void)
  74:Src/main.c    **** {
  75:Src/main.c    ****     /* USER CODE BEGIN 1 */
  76:Src/main.c    ****     uint8_t mpuConfig;
  77:Src/main.c    ****     /* USER CODE END 1 */
  78:Src/main.c    **** 
  79:Src/main.c    **** 
  80:Src/main.c    ****     /* MCU Configuration--------------------------------------------------------*/
  81:Src/main.c    **** 
  82:Src/main.c    ****     /* Reset of all peripherals, Initializes the Flash interface and the Systick. */
  83:Src/main.c    ****     HAL_Init();
  84:Src/main.c    **** 
  85:Src/main.c    ****     /* USER CODE BEGIN Init */
  86:Src/main.c    **** 
  87:Src/main.c    ****     /* USER CODE END Init */
  88:Src/main.c    **** 
  89:Src/main.c    ****     /* Configure the system clock */
  90:Src/main.c    ****     SystemClock_Config();
ARM GAS  C:\Users\Patrick\AppData\Local\Temp\ccbzRIa5.s 			page 3


  91:Src/main.c    **** 
  92:Src/main.c    ****     /* USER CODE BEGIN SysInit */
  93:Src/main.c    **** 
  94:Src/main.c    ****     /* USER CODE END SysInit */
  95:Src/main.c    **** 
  96:Src/main.c    ****     /* Initialize all configured peripherals */
  97:Src/main.c    ****     MX_GPIO_Init();
  98:Src/main.c    ****     MX_DMA_Init();
  99:Src/main.c    ****     MX_USB_PCD_Init();
 100:Src/main.c    ****     MX_ADC1_Init();
 101:Src/main.c    ****     MX_I2C1_Init();
 102:Src/main.c    ****     MX_TIM1_Init();
 103:Src/main.c    ****     MX_TIM3_Init();
 104:Src/main.c    ****     /* USER CODE BEGIN 2 */
 105:Src/main.c    ****     mpuConfig = 0b00000000;
 106:Src/main.c    ****     HAL_I2C_Mem_Write(&hi2c1, 0xD0, 0x1C, I2C_MEMADD_SIZE_8BIT, &mpuConfig, 1, 100);
 107:Src/main.c    **** 
 108:Src/main.c    ****     HAL_TIM_PWM_Start(&htim1, TIM_CHANNEL_1);
 109:Src/main.c    ****     HAL_TIM_Base_Start_IT(&htim3);
 110:Src/main.c    ****     HAL_ADCEx_Calibration_Start(&hadc1);
 111:Src/main.c    ****     HAL_ADC_Start_DMA(&hadc1, (uint32_t *) rawAdc, 2);
 112:Src/main.c    **** 
 113:Src/main.c    ****     /* USER CODE END 2 */
 114:Src/main.c    **** 
 115:Src/main.c    ****     /* Infinite loop */
 116:Src/main.c    ****     /* USER CODE BEGIN WHILE */
 117:Src/main.c    ****     while (1)
 118:Src/main.c    ****     {
 119:Src/main.c    **** 
 120:Src/main.c    ****         /* USER CODE END WHILE */
 121:Src/main.c    **** 
 122:Src/main.c    ****         /* USER CODE BEGIN 3 */
 123:Src/main.c    ****     }
 124:Src/main.c    ****     /* USER CODE END 3 */
 125:Src/main.c    **** }
 126:Src/main.c    **** 
 127:Src/main.c    **** /**
 128:Src/main.c    ****   * @brief System Clock Configuration
 129:Src/main.c    ****   * @retval None
 130:Src/main.c    ****   */
 131:Src/main.c    **** void SystemClock_Config(void)
 132:Src/main.c    **** {
  26              		.loc 1 132 0
  27              		.cfi_startproc
  28              		@ args = 0, pretend = 0, frame = 80
  29              		@ frame_needed = 0, uses_anonymous_args = 0
  30 0000 30B5     		push	{r4, r5, lr}
  31              	.LCFI0:
  32              		.cfi_def_cfa_offset 12
  33              		.cfi_offset 4, -12
  34              		.cfi_offset 5, -8
  35              		.cfi_offset 14, -4
  36 0002 95B0     		sub	sp, sp, #84
  37              	.LCFI1:
  38              		.cfi_def_cfa_offset 96
 133:Src/main.c    ****     RCC_OscInitTypeDef RCC_OscInitStruct = {0};
  39              		.loc 1 133 0
ARM GAS  C:\Users\Patrick\AppData\Local\Temp\ccbzRIa5.s 			page 4


  40 0004 0024     		movs	r4, #0
  41 0006 0C94     		str	r4, [sp, #48]
  42 0008 0D94     		str	r4, [sp, #52]
  43 000a 0F94     		str	r4, [sp, #60]
  44 000c 1094     		str	r4, [sp, #64]
 134:Src/main.c    ****     RCC_ClkInitTypeDef RCC_ClkInitStruct = {0};
  45              		.loc 1 134 0
  46 000e 0594     		str	r4, [sp, #20]
  47 0010 0694     		str	r4, [sp, #24]
  48 0012 0794     		str	r4, [sp, #28]
  49 0014 0894     		str	r4, [sp, #32]
  50 0016 0994     		str	r4, [sp, #36]
 135:Src/main.c    ****     RCC_PeriphCLKInitTypeDef PeriphClkInit = {0};
  51              		.loc 1 135 0
  52 0018 0194     		str	r4, [sp, #4]
  53 001a 0294     		str	r4, [sp, #8]
  54 001c 0394     		str	r4, [sp, #12]
  55 001e 0494     		str	r4, [sp, #16]
 136:Src/main.c    **** 
 137:Src/main.c    ****     /** Initializes the CPU, AHB and APB busses clocks
 138:Src/main.c    ****     */
 139:Src/main.c    ****     RCC_OscInitStruct.OscillatorType = RCC_OSCILLATORTYPE_HSE;
  56              		.loc 1 139 0
  57 0020 0122     		movs	r2, #1
  58 0022 0A92     		str	r2, [sp, #40]
 140:Src/main.c    ****     RCC_OscInitStruct.HSEState = RCC_HSE_ON;
  59              		.loc 1 140 0
  60 0024 4FF48033 		mov	r3, #65536
  61 0028 0B93     		str	r3, [sp, #44]
 141:Src/main.c    ****     RCC_OscInitStruct.HSEPredivValue = RCC_HSE_PREDIV_DIV1;
 142:Src/main.c    ****     RCC_OscInitStruct.HSIState = RCC_HSI_ON;
  62              		.loc 1 142 0
  63 002a 0E92     		str	r2, [sp, #56]
 143:Src/main.c    ****     RCC_OscInitStruct.PLL.PLLState = RCC_PLL_ON;
  64              		.loc 1 143 0
  65 002c 0225     		movs	r5, #2
  66 002e 1195     		str	r5, [sp, #68]
 144:Src/main.c    ****     RCC_OscInitStruct.PLL.PLLSource = RCC_PLLSOURCE_HSE;
  67              		.loc 1 144 0
  68 0030 1293     		str	r3, [sp, #72]
 145:Src/main.c    ****     RCC_OscInitStruct.PLL.PLLMUL = RCC_PLL_MUL9;
  69              		.loc 1 145 0
  70 0032 4FF4E013 		mov	r3, #1835008
  71 0036 1393     		str	r3, [sp, #76]
 146:Src/main.c    ****     if (HAL_RCC_OscConfig(&RCC_OscInitStruct) != HAL_OK)
  72              		.loc 1 146 0
  73 0038 0AA8     		add	r0, sp, #40
  74 003a FFF7FEFF 		bl	HAL_RCC_OscConfig
  75              	.LVL0:
 147:Src/main.c    ****     {
 148:Src/main.c    ****         Error_Handler();
 149:Src/main.c    ****     }
 150:Src/main.c    ****     /** Initializes the CPU, AHB and APB busses clocks
 151:Src/main.c    ****     */
 152:Src/main.c    ****     RCC_ClkInitStruct.ClockType = RCC_CLOCKTYPE_HCLK|RCC_CLOCKTYPE_SYSCLK
  76              		.loc 1 152 0
  77 003e 0F23     		movs	r3, #15
ARM GAS  C:\Users\Patrick\AppData\Local\Temp\ccbzRIa5.s 			page 5


  78 0040 0593     		str	r3, [sp, #20]
 153:Src/main.c    ****                                   |RCC_CLOCKTYPE_PCLK1|RCC_CLOCKTYPE_PCLK2;
 154:Src/main.c    ****     RCC_ClkInitStruct.SYSCLKSource = RCC_SYSCLKSOURCE_PLLCLK;
  79              		.loc 1 154 0
  80 0042 0695     		str	r5, [sp, #24]
 155:Src/main.c    ****     RCC_ClkInitStruct.AHBCLKDivider = RCC_SYSCLK_DIV1;
  81              		.loc 1 155 0
  82 0044 0794     		str	r4, [sp, #28]
 156:Src/main.c    ****     RCC_ClkInitStruct.APB1CLKDivider = RCC_HCLK_DIV2;
  83              		.loc 1 156 0
  84 0046 4FF48063 		mov	r3, #1024
  85 004a 0893     		str	r3, [sp, #32]
 157:Src/main.c    ****     RCC_ClkInitStruct.APB2CLKDivider = RCC_HCLK_DIV1;
  86              		.loc 1 157 0
  87 004c 0994     		str	r4, [sp, #36]
 158:Src/main.c    **** 
 159:Src/main.c    ****     if (HAL_RCC_ClockConfig(&RCC_ClkInitStruct, FLASH_LATENCY_2) != HAL_OK)
  88              		.loc 1 159 0
  89 004e 2946     		mov	r1, r5
  90 0050 05A8     		add	r0, sp, #20
  91 0052 FFF7FEFF 		bl	HAL_RCC_ClockConfig
  92              	.LVL1:
 160:Src/main.c    ****     {
 161:Src/main.c    ****         Error_Handler();
 162:Src/main.c    ****     }
 163:Src/main.c    ****     PeriphClkInit.PeriphClockSelection = RCC_PERIPHCLK_ADC|RCC_PERIPHCLK_USB;
  93              		.loc 1 163 0
  94 0056 1223     		movs	r3, #18
  95 0058 0193     		str	r3, [sp, #4]
 164:Src/main.c    ****     PeriphClkInit.AdcClockSelection = RCC_ADCPCLK2_DIV6;
  96              		.loc 1 164 0
  97 005a 4FF40043 		mov	r3, #32768
  98 005e 0393     		str	r3, [sp, #12]
 165:Src/main.c    ****     PeriphClkInit.UsbClockSelection = RCC_USBCLKSOURCE_PLL_DIV1_5;
  99              		.loc 1 165 0
 100 0060 0494     		str	r4, [sp, #16]
 166:Src/main.c    ****     if (HAL_RCCEx_PeriphCLKConfig(&PeriphClkInit) != HAL_OK)
 101              		.loc 1 166 0
 102 0062 01A8     		add	r0, sp, #4
 103 0064 FFF7FEFF 		bl	HAL_RCCEx_PeriphCLKConfig
 104              	.LVL2:
 167:Src/main.c    ****     {
 168:Src/main.c    ****         Error_Handler();
 169:Src/main.c    ****     }
 170:Src/main.c    **** }
 105              		.loc 1 170 0
 106 0068 15B0     		add	sp, sp, #84
 107              	.LCFI2:
 108              		.cfi_def_cfa_offset 12
 109              		@ sp needed
 110 006a 30BD     		pop	{r4, r5, pc}
 111              		.cfi_endproc
 112              	.LFE67:
 114              		.section	.text.main,"ax",%progbits
 115              		.align	1
 116              		.global	main
 117              		.syntax unified
ARM GAS  C:\Users\Patrick\AppData\Local\Temp\ccbzRIa5.s 			page 6


 118              		.thumb
 119              		.thumb_func
 120              		.fpu softvfp
 122              	main:
 123              	.LFB66:
  74:Src/main.c    ****     /* USER CODE BEGIN 1 */
 124              		.loc 1 74 0
 125              		.cfi_startproc
 126              		@ Volatile: function does not return.
 127              		@ args = 0, pretend = 0, frame = 8
 128              		@ frame_needed = 0, uses_anonymous_args = 0
 129 0000 00B5     		push	{lr}
 130              	.LCFI3:
 131              		.cfi_def_cfa_offset 4
 132              		.cfi_offset 14, -4
 133 0002 87B0     		sub	sp, sp, #28
 134              	.LCFI4:
 135              		.cfi_def_cfa_offset 32
  83:Src/main.c    **** 
 136              		.loc 1 83 0
 137 0004 FFF7FEFF 		bl	HAL_Init
 138              	.LVL3:
  90:Src/main.c    **** 
 139              		.loc 1 90 0
 140 0008 FFF7FEFF 		bl	SystemClock_Config
 141              	.LVL4:
  97:Src/main.c    ****     MX_DMA_Init();
 142              		.loc 1 97 0
 143 000c FFF7FEFF 		bl	MX_GPIO_Init
 144              	.LVL5:
  98:Src/main.c    ****     MX_USB_PCD_Init();
 145              		.loc 1 98 0
 146 0010 FFF7FEFF 		bl	MX_DMA_Init
 147              	.LVL6:
  99:Src/main.c    ****     MX_ADC1_Init();
 148              		.loc 1 99 0
 149 0014 FFF7FEFF 		bl	MX_USB_PCD_Init
 150              	.LVL7:
 100:Src/main.c    ****     MX_I2C1_Init();
 151              		.loc 1 100 0
 152 0018 FFF7FEFF 		bl	MX_ADC1_Init
 153              	.LVL8:
 101:Src/main.c    ****     MX_TIM1_Init();
 154              		.loc 1 101 0
 155 001c FFF7FEFF 		bl	MX_I2C1_Init
 156              	.LVL9:
 102:Src/main.c    ****     MX_TIM3_Init();
 157              		.loc 1 102 0
 158 0020 FFF7FEFF 		bl	MX_TIM1_Init
 159              	.LVL10:
 103:Src/main.c    ****     /* USER CODE BEGIN 2 */
 160              		.loc 1 103 0
 161 0024 FFF7FEFF 		bl	MX_TIM3_Init
 162              	.LVL11:
 105:Src/main.c    ****     HAL_I2C_Mem_Write(&hi2c1, 0xD0, 0x1C, I2C_MEMADD_SIZE_8BIT, &mpuConfig, 1, 100);
 163              		.loc 1 105 0
 164 0028 0024     		movs	r4, #0
ARM GAS  C:\Users\Patrick\AppData\Local\Temp\ccbzRIa5.s 			page 7


 165 002a 06AA     		add	r2, sp, #24
 166 002c 02F8014D 		strb	r4, [r2, #-1]!
 106:Src/main.c    **** 
 167              		.loc 1 106 0
 168 0030 6423     		movs	r3, #100
 169 0032 0293     		str	r3, [sp, #8]
 170 0034 0123     		movs	r3, #1
 171 0036 0193     		str	r3, [sp, #4]
 172 0038 0092     		str	r2, [sp]
 173 003a 1C22     		movs	r2, #28
 174 003c D021     		movs	r1, #208
 175 003e 0A48     		ldr	r0, .L6
 176 0040 FFF7FEFF 		bl	HAL_I2C_Mem_Write
 177              	.LVL12:
 108:Src/main.c    ****     HAL_TIM_Base_Start_IT(&htim3);
 178              		.loc 1 108 0
 179 0044 2146     		mov	r1, r4
 180 0046 0948     		ldr	r0, .L6+4
 181 0048 FFF7FEFF 		bl	HAL_TIM_PWM_Start
 182              	.LVL13:
 109:Src/main.c    ****     HAL_ADCEx_Calibration_Start(&hadc1);
 183              		.loc 1 109 0
 184 004c 0848     		ldr	r0, .L6+8
 185 004e FFF7FEFF 		bl	HAL_TIM_Base_Start_IT
 186              	.LVL14:
 110:Src/main.c    ****     HAL_ADC_Start_DMA(&hadc1, (uint32_t *) rawAdc, 2);
 187              		.loc 1 110 0
 188 0052 084C     		ldr	r4, .L6+12
 189 0054 2046     		mov	r0, r4
 190 0056 FFF7FEFF 		bl	HAL_ADCEx_Calibration_Start
 191              	.LVL15:
 111:Src/main.c    **** 
 192              		.loc 1 111 0
 193 005a 0222     		movs	r2, #2
 194 005c 0649     		ldr	r1, .L6+16
 195 005e 2046     		mov	r0, r4
 196 0060 FFF7FEFF 		bl	HAL_ADC_Start_DMA
 197              	.LVL16:
 198              	.L4:
 199 0064 FEE7     		b	.L4
 200              	.L7:
 201 0066 00BF     		.align	2
 202              	.L6:
 203 0068 00000000 		.word	hi2c1
 204 006c 00000000 		.word	htim1
 205 0070 00000000 		.word	htim3
 206 0074 00000000 		.word	hadc1
 207 0078 00000000 		.word	rawAdc
 208              		.cfi_endproc
 209              	.LFE66:
 211              		.section	.text.HAL_ADC_ConvCpltCallback,"ax",%progbits
 212              		.align	1
 213              		.global	HAL_ADC_ConvCpltCallback
 214              		.syntax unified
 215              		.thumb
 216              		.thumb_func
 217              		.fpu softvfp
ARM GAS  C:\Users\Patrick\AppData\Local\Temp\ccbzRIa5.s 			page 8


 219              	HAL_ADC_ConvCpltCallback:
 220              	.LFB68:
 171:Src/main.c    **** 
 172:Src/main.c    **** /* USER CODE BEGIN 4 */
 173:Src/main.c    **** void HAL_ADC_ConvCpltCallback(ADC_HandleTypeDef *hadc)
 174:Src/main.c    **** {
 221              		.loc 1 174 0
 222              		.cfi_startproc
 223              		@ args = 0, pretend = 0, frame = 0
 224              		@ frame_needed = 0, uses_anonymous_args = 0
 225              	.LVL17:
 226 0000 00B5     		push	{lr}
 227              	.LCFI5:
 228              		.cfi_def_cfa_offset 4
 229              		.cfi_offset 14, -4
 230 0002 83B0     		sub	sp, sp, #12
 231              	.LCFI6:
 232              		.cfi_def_cfa_offset 16
 175:Src/main.c    ****     HAL_I2C_Mem_Read_IT(&hi2c1, 0xD0, 0x3B, I2C_MEMADD_SIZE_8BIT, rawMpu, 6);
 233              		.loc 1 175 0
 234 0004 0623     		movs	r3, #6
 235 0006 0193     		str	r3, [sp, #4]
 236 0008 074B     		ldr	r3, .L10
 237 000a 0093     		str	r3, [sp]
 238 000c 0123     		movs	r3, #1
 239 000e 3B22     		movs	r2, #59
 240 0010 D021     		movs	r1, #208
 241 0012 0648     		ldr	r0, .L10+4
 242              	.LVL18:
 243 0014 FFF7FEFF 		bl	HAL_I2C_Mem_Read_IT
 244              	.LVL19:
 176:Src/main.c    ****     HAL_GPIO_TogglePin(GPIOB, GPIO_PIN_12);
 245              		.loc 1 176 0
 246 0018 4FF48051 		mov	r1, #4096
 247 001c 0448     		ldr	r0, .L10+8
 248 001e FFF7FEFF 		bl	HAL_GPIO_TogglePin
 249              	.LVL20:
 177:Src/main.c    **** }
 250              		.loc 1 177 0
 251 0022 03B0     		add	sp, sp, #12
 252              	.LCFI7:
 253              		.cfi_def_cfa_offset 4
 254              		@ sp needed
 255 0024 5DF804FB 		ldr	pc, [sp], #4
 256              	.L11:
 257              		.align	2
 258              	.L10:
 259 0028 00000000 		.word	rawMpu
 260 002c 00000000 		.word	hi2c1
 261 0030 000C0140 		.word	1073810432
 262              		.cfi_endproc
 263              	.LFE68:
 265              		.global	__aeabi_ui2d
 266              		.global	__aeabi_dmul
 267              		.global	__aeabi_dadd
 268              		.global	__aeabi_d2uiz
 269              		.section	.text.HAL_I2C_MemRxCpltCallback,"ax",%progbits
ARM GAS  C:\Users\Patrick\AppData\Local\Temp\ccbzRIa5.s 			page 9


 270              		.align	1
 271              		.global	HAL_I2C_MemRxCpltCallback
 272              		.syntax unified
 273              		.thumb
 274              		.thumb_func
 275              		.fpu softvfp
 277              	HAL_I2C_MemRxCpltCallback:
 278              	.LFB69:
 178:Src/main.c    **** 
 179:Src/main.c    **** void HAL_I2C_MemRxCpltCallback(I2C_HandleTypeDef *hi2c)
 180:Src/main.c    **** {
 279              		.loc 1 180 0
 280              		.cfi_startproc
 281              		@ args = 0, pretend = 0, frame = 0
 282              		@ frame_needed = 0, uses_anonymous_args = 0
 283              	.LVL21:
 284 0000 08B5     		push	{r3, lr}
 285              	.LCFI8:
 286              		.cfi_def_cfa_offset 8
 287              		.cfi_offset 3, -8
 288              		.cfi_offset 14, -4
 181:Src/main.c    ****     HAL_GPIO_TogglePin(GPIOB, GPIO_PIN_13);
 289              		.loc 1 181 0
 290 0002 4FF40051 		mov	r1, #8192
 291 0006 1048     		ldr	r0, .L14+8
 292              	.LVL22:
 293 0008 FFF7FEFF 		bl	HAL_GPIO_TogglePin
 294              	.LVL23:
 182:Src/main.c    ****     uint32_t xAcc = (rawMpu[0] << 8) | (0x00F0 & rawMpu[1]);
 295              		.loc 1 182 0
 296 000c 0F4B     		ldr	r3, .L14+12
 297 000e 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 298 0010 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 299 0012 03F0F003 		and	r3, r3, #240
 300              	.LVL24:
 183:Src/main.c    ****     uint32_t yAcc = (rawMpu[2] << 8) | (0x00F0 & rawMpu[3]);
 184:Src/main.c    ****     uint32_t zAcc = (rawMpu[4] << 8) | (0x00F0 & rawMpu[5]);
 185:Src/main.c    **** 
 186:Src/main.c    ****     uint32_t servoPosition = 50 + 0.005* xAcc;
 301              		.loc 1 186 0
 302 0016 43EA0020 		orr	r0, r3, r0, lsl #8
 303              	.LVL25:
 304 001a FFF7FEFF 		bl	__aeabi_ui2d
 305              	.LVL26:
 306 001e 08A3     		adr	r3, .L14
 307 0020 D3E90023 		ldrd	r2, [r3]
 308 0024 FFF7FEFF 		bl	__aeabi_dmul
 309              	.LVL27:
 310 0028 0022     		movs	r2, #0
 311 002a 094B     		ldr	r3, .L14+16
 312 002c FFF7FEFF 		bl	__aeabi_dadd
 313              	.LVL28:
 314 0030 FFF7FEFF 		bl	__aeabi_d2uiz
 315              	.LVL29:
 187:Src/main.c    ****     htim1.Instance->CCR1 = servoPosition;
 316              		.loc 1 187 0
 317 0034 074B     		ldr	r3, .L14+20
ARM GAS  C:\Users\Patrick\AppData\Local\Temp\ccbzRIa5.s 			page 10


 318 0036 1B68     		ldr	r3, [r3]
 319 0038 5863     		str	r0, [r3, #52]
 188:Src/main.c    **** }
 320              		.loc 1 188 0
 321 003a 08BD     		pop	{r3, pc}
 322              	.L15:
 323 003c AFF30080 		.align	3
 324              	.L14:
 325 0040 7B14AE47 		.word	1202590843
 326 0044 E17A743F 		.word	1064598241
 327 0048 000C0140 		.word	1073810432
 328 004c 00000000 		.word	rawMpu
 329 0050 00004940 		.word	1078525952
 330 0054 00000000 		.word	htim1
 331              		.cfi_endproc
 332              	.LFE69:
 334              		.section	.text.Error_Handler,"ax",%progbits
 335              		.align	1
 336              		.global	Error_Handler
 337              		.syntax unified
 338              		.thumb
 339              		.thumb_func
 340              		.fpu softvfp
 342              	Error_Handler:
 343              	.LFB70:
 189:Src/main.c    **** /* USER CODE END 4 */
 190:Src/main.c    **** 
 191:Src/main.c    **** /**
 192:Src/main.c    ****   * @brief  This function is executed in case of error occurrence.
 193:Src/main.c    ****   * @retval None
 194:Src/main.c    ****   */
 195:Src/main.c    **** void Error_Handler(void)
 196:Src/main.c    **** {
 344              		.loc 1 196 0
 345              		.cfi_startproc
 346              		@ args = 0, pretend = 0, frame = 0
 347              		@ frame_needed = 0, uses_anonymous_args = 0
 348              		@ link register save eliminated.
 197:Src/main.c    ****     /* USER CODE BEGIN Error_Handler_Debug */
 198:Src/main.c    ****     /* User can add his own implementation to report the HAL error return state */
 199:Src/main.c    **** 
 200:Src/main.c    ****     /* USER CODE END Error_Handler_Debug */
 201:Src/main.c    **** }
 349              		.loc 1 201 0
 350 0000 7047     		bx	lr
 351              		.cfi_endproc
 352              	.LFE70:
 354              		.comm	servoPosition,4,4
 355              		.comm	rawAdc,4,4
 356              		.comm	rawMpu,6,4
 357              		.text
 358              	.Letext0:
 359              		.file 2 "c:\\program files (x86)\\embedded toolchain\\gnu tools arm embedded\\7 2017-q4-major\\arm
 360              		.file 3 "c:\\program files (x86)\\embedded toolchain\\gnu tools arm embedded\\7 2017-q4-major\\arm
 361              		.file 4 "Drivers/CMSIS/Include/core_cm3.h"
 362              		.file 5 "Drivers/CMSIS/Device/ST/STM32F1xx/Include/system_stm32f1xx.h"
 363              		.file 6 "Drivers/CMSIS/Device/ST/STM32F1xx/Include/stm32f103xb.h"
ARM GAS  C:\Users\Patrick\AppData\Local\Temp\ccbzRIa5.s 			page 11


 364              		.file 7 "c:\\program files (x86)\\embedded toolchain\\gnu tools arm embedded\\7 2017-q4-major\\arm
 365              		.file 8 "c:\\program files (x86)\\embedded toolchain\\gnu tools arm embedded\\7 2017-q4-major\\arm
 366              		.file 9 "c:\\program files (x86)\\embedded toolchain\\gnu tools arm embedded\\7 2017-q4-major\\lib
 367              		.file 10 "c:\\program files (x86)\\embedded toolchain\\gnu tools arm embedded\\7 2017-q4-major\\ar
 368              		.file 11 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_def.h"
 369              		.file 12 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_rcc.h"
 370              		.file 13 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_rcc_ex.h"
 371              		.file 14 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_dma.h"
 372              		.file 15 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_adc.h"
 373              		.file 16 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_i2c.h"
 374              		.file 17 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_tim.h"
 375              		.file 18 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_ll_usb.h"
 376              		.file 19 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_pcd.h"
 377              		.file 20 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal.h"
 378              		.file 21 "Inc/adc.h"
 379              		.file 22 "Inc/i2c.h"
 380              		.file 23 "Inc/tim.h"
 381              		.file 24 "Inc/usb.h"
 382              		.file 25 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_gpio.h"
 383              		.file 26 "Inc/gpio.h"
 384              		.file 27 "Inc/dma.h"
 385              		.file 28 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_adc_ex.h"
ARM GAS  C:\Users\Patrick\AppData\Local\Temp\ccbzRIa5.s 			page 12


DEFINED SYMBOLS
                            *ABS*:00000000 main.c
C:\Users\Patrick\AppData\Local\Temp\ccbzRIa5.s:16     .text.SystemClock_Config:00000000 $t
C:\Users\Patrick\AppData\Local\Temp\ccbzRIa5.s:23     .text.SystemClock_Config:00000000 SystemClock_Config
C:\Users\Patrick\AppData\Local\Temp\ccbzRIa5.s:115    .text.main:00000000 $t
C:\Users\Patrick\AppData\Local\Temp\ccbzRIa5.s:122    .text.main:00000000 main
C:\Users\Patrick\AppData\Local\Temp\ccbzRIa5.s:203    .text.main:00000068 $d
                            *COM*:00000004 rawAdc
C:\Users\Patrick\AppData\Local\Temp\ccbzRIa5.s:212    .text.HAL_ADC_ConvCpltCallback:00000000 $t
C:\Users\Patrick\AppData\Local\Temp\ccbzRIa5.s:219    .text.HAL_ADC_ConvCpltCallback:00000000 HAL_ADC_ConvCpltCallback
C:\Users\Patrick\AppData\Local\Temp\ccbzRIa5.s:259    .text.HAL_ADC_ConvCpltCallback:00000028 $d
                            *COM*:00000006 rawMpu
C:\Users\Patrick\AppData\Local\Temp\ccbzRIa5.s:270    .text.HAL_I2C_MemRxCpltCallback:00000000 $t
C:\Users\Patrick\AppData\Local\Temp\ccbzRIa5.s:277    .text.HAL_I2C_MemRxCpltCallback:00000000 HAL_I2C_MemRxCpltCallback
C:\Users\Patrick\AppData\Local\Temp\ccbzRIa5.s:325    .text.HAL_I2C_MemRxCpltCallback:00000040 $d
C:\Users\Patrick\AppData\Local\Temp\ccbzRIa5.s:335    .text.Error_Handler:00000000 $t
C:\Users\Patrick\AppData\Local\Temp\ccbzRIa5.s:342    .text.Error_Handler:00000000 Error_Handler
                            *COM*:00000004 servoPosition

UNDEFINED SYMBOLS
HAL_RCC_OscConfig
HAL_RCC_ClockConfig
HAL_RCCEx_PeriphCLKConfig
HAL_Init
MX_GPIO_Init
MX_DMA_Init
MX_USB_PCD_Init
MX_ADC1_Init
MX_I2C1_Init
MX_TIM1_Init
MX_TIM3_Init
HAL_I2C_Mem_Write
HAL_TIM_PWM_Start
HAL_TIM_Base_Start_IT
HAL_ADCEx_Calibration_Start
HAL_ADC_Start_DMA
hi2c1
htim1
htim3
hadc1
HAL_I2C_Mem_Read_IT
HAL_GPIO_TogglePin
__aeabi_ui2d
__aeabi_dmul
__aeabi_dadd
__aeabi_d2uiz
